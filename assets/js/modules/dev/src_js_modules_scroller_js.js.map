{"version":3,"sources":["webpack:///./src/js/modules/scroller.js"],"names":["scroller","init","jQuery","on","setTimeout","scrollByAnchor","ready","window","onhashchange","activateDiscussionsTab","hash","location","toLowerCase","indexOf","alg_dtwp","commentLink","tabID","alg_dtwp_tab","discussionsTabA","length","trigger","currentURL","href","target","element","closest","offset","comments","document","querySelectorAll","commentTypeID","forEach","item","classList","remove","topPos","getBoundingClientRect","top","pageYOffset","scrollTo","behavior","add","module","exports"],"mappings":";;;;;;;;AAAA,IAAMA,QAAQ,GAAG;AAChBC,MAAI,EAAE,gBAAY;AACjBC,UAAM,CAAC,MAAD,CAAN,CAAeC,EAAf,CAAkB,0BAAlB,EAA8C,YAAY;AACzDC,gBAAU,CAACJ,QAAQ,CAACK,cAAV,EAA0B,GAA1B,CAAV;AACA,KAFD;AAGAH,UAAM,CAAC,UAAD,CAAN,CAAmBI,KAAnB,CAAyB,YAAU;AAClCF,gBAAU,CAACJ,QAAQ,CAACK,cAAV,EAA0B,GAA1B,CAAV;AACA,KAFD;;AAGAE,UAAM,CAACC,YAAP,GAAsB,YAAY;AACjCR,cAAQ,CAACK,cAAT;AACA,KAFD;;AAGAH,UAAM,CAAC,UAAD,CAAN,CAAmBI,KAAnB,CAAyB,YAAW;AACnCN,cAAQ,CAACS,sBAAT;AACA,KAFD;AAGA,GAde;AAehBA,wBAAsB,EAAE,kCAAY;AACnC,QAAIC,IAAI,GAAGH,MAAM,CAACI,QAAP,CAAgBD,IAA3B;;AACA,QAAKA,IAAI,CAACE,WAAL,GAAmBC,OAAnB,CAA4BC,QAAQ,CAACC,WAAT,GAAuB,GAAnD,KAA4D,CAA5D,IAAiEL,IAAI,KAAK,MAAMI,QAAQ,CAACE,KAAzF,IAAkGN,IAAI,KAAK,UAAUI,QAAQ,CAACE,KAAnI,EAA2I;AAC1I,UAAIC,YAAY,GAAGH,QAAQ,CAACE,KAA5B;AACA,UAAIE,eAAe,GAAGhB,MAAM,CAAC,gBAAgBe,YAAhB,GAA+B,IAAhC,CAA5B;;AACA,UAAIC,eAAe,CAACC,MAApB,EAA4B;AAC3BD,uBAAe,CAACE,OAAhB,CAAwB,OAAxB;AACA;AACD;AACD,GAxBe;AAyBhBf,gBAAc,EAAE,0BAAY;AAC3B,QAAIgB,UAAU,GAAGd,MAAM,CAACI,QAAP,CAAgBW,IAAjC;AACA,QAAIC,MAAM,GAAGrB,MAAM,CAAC,cAAcmB,UAAd,GAA2B,IAA5B,CAAnB;;AACA,QAAId,MAAM,CAACI,QAAP,CAAgBD,IAAhB,CAAqBS,MAArB,IAA+BI,MAAM,CAACJ,MAA1C,EAAkD;AACjD,UAAMK,OAAO,GAAGD,MAAM,CAACE,OAAP,CAAe,UAAf,EAA2B,CAA3B,CAAhB;AACA,UAAMC,MAAM,GAAG,GAAf;AACA,UAAIC,QAAQ,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,cAAcf,QAAQ,CAACgB,aAAjD,CAAf;AACAH,cAAQ,CAACI,OAAT,CAAiB,UAAUC,IAAV,EAAgB;AAChCA,YAAI,CAACC,SAAL,CAAeC,MAAf,CAAsB,wBAAtB;AACA,OAFD;AAGA,UAAMC,MAAM,GAAGX,OAAO,CAACY,qBAAR,GAAgCC,GAAhC,GAAsC9B,MAAM,CAAC+B,WAA7C,GAA2DZ,MAA1E;AACAnB,YAAM,CAACgC,QAAP,CAAgB;AACfF,WAAG,EAAEF,MADU;AAEfK,gBAAQ,EAAE;AAFK,OAAhB;AAIApC,gBAAU,CAAC,YAAY;AACtBoB,eAAO,CAACS,SAAR,CAAkBQ,GAAlB,CAAsB,wBAAtB;AACA,OAFS,EAEP,GAFO,CAAV;AAGA;AACD;AA5Ce,CAAjB;AA8CAC,MAAM,CAACC,OAAP,GAAiB3C,QAAjB,C","file":"js/modules/dev/src_js_modules_scroller_js.js","sourcesContent":["const scroller = {\r\n\tinit: function () {\r\n\t\tjQuery('body').on('alg_dtwp_comments_loaded', function () {\r\n\t\t\tsetTimeout(scroller.scrollByAnchor, 200);\r\n\t\t});\r\n\t\tjQuery('document').ready(function(){\r\n\t\t\tsetTimeout(scroller.scrollByAnchor, 200);\r\n\t\t});\r\n\t\twindow.onhashchange = function () {\r\n\t\t\tscroller.scrollByAnchor();\r\n\t\t};\r\n\t\tjQuery('document').ready(function() {\r\n\t\t\tscroller.activateDiscussionsTab();\r\n\t\t});\r\n\t},\r\n\tactivateDiscussionsTab: function () {\r\n\t\tlet hash = window.location.hash;\r\n\t\tif ( hash.toLowerCase().indexOf( alg_dtwp.commentLink + '-' ) >= 0 || hash === '#' + alg_dtwp.tabID || hash === '#tab-' + alg_dtwp.tabID ) {\r\n\t\t\tlet alg_dtwp_tab = alg_dtwp.tabID;\r\n\t\t\tlet discussionsTabA = jQuery('#tab-title-' + alg_dtwp_tab + ' a');\r\n\t\t\tif (discussionsTabA.length) {\r\n\t\t\t\tdiscussionsTabA.trigger('click');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tscrollByAnchor: function () {\r\n\t\tlet currentURL = window.location.href;\r\n\t\tlet target = jQuery('a[href*=\"' + currentURL + '\"]');\r\n\t\tif (window.location.hash.length && target.length) {\r\n\t\t\tconst element = target.closest('.comment')[0];\r\n\t\t\tconst offset = 145;\r\n\t\t\tvar comments = document.querySelectorAll('.comment.' + alg_dtwp.commentTypeID);\r\n\t\t\tcomments.forEach(function (item) {\r\n\t\t\t\titem.classList.remove('alg-dtwp-anchor-source');\r\n\t\t\t});\r\n\t\t\tconst topPos = element.getBoundingClientRect().top + window.pageYOffset - offset;\r\n\t\t\twindow.scrollTo({\r\n\t\t\t\ttop: topPos,\r\n\t\t\t\tbehavior: 'smooth'\r\n\t\t\t});\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.add('alg-dtwp-anchor-source');\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n}\r\nmodule.exports = scroller;"],"sourceRoot":""}